const $e=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}};$e();function R(){}function ve(e){return e()}function re(){return Object.create(null)}function J(e){e.forEach(ve)}function Ce(e){return typeof e=="function"}function V(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ae(e){return Object.keys(e).length===0}function r(e,t){e.appendChild(t)}function H(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode.removeChild(e)}function Ee(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function U(e){return document.createTextNode(e)}function C(){return U(" ")}function Me(){return U("")}function x(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function i(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Te(e){return Array.from(e.childNodes)}function le(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ue(e,t){e.value=t==null?"":t}function B(e,t,n,l){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function fe(e,t,n){e.classList[n?"add":"remove"](t)}function Le(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,l,t),o}let F;function z(e){F=e}function ye(){if(!F)throw new Error("Function called outside component initialization");return F}function oe(e){ye().$$.on_mount.push(e)}function we(){const e=ye();return(t,n,{cancelable:l=!1}={})=>{const o=e.$$.callbacks[t];if(o){const c=Le(t,n,{cancelable:l});return o.slice().forEach(s=>{s.call(e,c)}),!c.defaultPrevented}return!0}}const D=[],de=[],G=[],me=[],Ne=Promise.resolve();let te=!1;function Se(){te||(te=!0,Ne.then(ke))}function ne(e){G.push(e)}const ee=new Set;let K=0;function ke(){const e=F;do{for(;K<D.length;){const t=D[K];K++,z(t),je(t.$$)}for(z(null),D.length=0,K=0;de.length;)de.pop()();for(let t=0;t<G.length;t+=1){const n=G[t];ee.has(n)||(ee.add(n),n())}G.length=0}while(D.length);for(;me.length;)me.pop()();te=!1,ee.clear(),z(e)}function je(e){if(e.fragment!==null){e.update(),J(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ne)}}const Q=new Set;let Oe;function q(e,t){e&&e.i&&(Q.delete(e),e.i(t))}function ce(e,t,n,l){if(e&&e.o){if(Q.has(e))return;Q.add(e),Oe.c.push(()=>{Q.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}}function He(e,t){e.d(1),t.delete(e.key)}function Pe(e,t,n,l,o,c,s,h,u,a,_,f){let v=e.length,y=c.length,g=v;const T={};for(;g--;)T[e[g].key]=g;const w=[],j=new Map,A=new Map;for(g=y;g--;){const p=f(o,c,g),k=n(p);let $=s.get(k);$?l&&$.p(p,t):($=a(k,p),$.c()),j.set(k,w[g]=$),k in T&&A.set(k,Math.abs(g-T[k]))}const M=new Set,m=new Set;function b(p){q(p,1),p.m(h,_),s.set(p.key,p),_=p.first,y--}for(;v&&y;){const p=w[y-1],k=e[v-1],$=p.key,L=k.key;p===k?(_=p.first,v--,y--):j.has(L)?!s.has($)||M.has($)?b(p):m.has(L)?v--:A.get($)>A.get(L)?(m.add($),b(p)):(M.add(L),v--):(u(k,s),v--)}for(;v--;){const p=e[v];j.has(p.key)||u(p,s)}for(;y;)b(w[y-1]);return w}function se(e){e&&e.c()}function W(e,t,n,l){const{fragment:o,on_mount:c,on_destroy:s,after_update:h}=e.$$;o&&o.m(t,n),l||ne(()=>{const u=c.map(ve).filter(Ce);s?s.push(...u):J(u),e.$$.on_mount=[]}),h.forEach(ne)}function X(e,t){const n=e.$$;n.fragment!==null&&(J(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ie(e,t){e.$$.dirty[0]===-1&&(D.push(e),Se(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Y(e,t,n,l,o,c,s,h=[-1]){const u=F;z(e);const a=e.$$={fragment:null,ctx:null,props:c,update:R,not_equal:o,bound:re(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:re(),dirty:h,skip_bound:!1,root:t.target||u.$$.root};s&&s(a.root);let _=!1;if(a.ctx=n?n(e,t.props||{},(f,v,...y)=>{const g=y.length?y[0]:v;return a.ctx&&o(a.ctx[f],a.ctx[f]=g)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](g),_&&Ie(e,f)),v}):[],a.update(),_=!0,J(a.before_update),a.fragment=l?l(a.ctx):!1,t.target){if(t.hydrate){const f=Te(t.target);a.fragment&&a.fragment.l(f),f.forEach(S)}else a.fragment&&a.fragment.c();t.intro&&q(e.$$.fragment),W(e,t.target,t.anchor,t.customElement),ke()}z(u)}class Z{$destroy(){X(this,1),this.$destroy=R}$on(t,n){const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!Ae(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}async function xe(){return await(await fetch("/api/user")).json()}async function Be(){return(await(await fetch("/api/available-colors")).json()).colors}async function De(){return await(await fetch("/api/accounts")).json()}async function ze(e,t){const n=JSON.stringify({name:e,color:t,lastSavedTime:0,createdTime:0,isActive:!1}),l=new Headers({"Content-Type":"application/json"});return await(await fetch("/api/accounts",{method:"POST",body:n,headers:l})).json()}async function Fe(e,t,n){const l=JSON.stringify({name:t,color:n,lastSavedTime:0,createdTime:0,isActive:!0}),o=new Headers({"Content-Type":"application/json"}),c={method:"PUT",body:l,headers:o};return await(await fetch("/api/account/"+e,c)).json()}function pe(e,t,n){const l=e.slice();return l[6]=t[n],l}function Je(e){let t,n,l;function o(...c){return e[4](e[6],...c)}return{c(){t=d("i"),i(t,"class","bi-circle-fill"),B(t,"color",e[6])},m(c,s){H(c,t,s),n||(l=x(t,"click",o),n=!0)},p(c,s){e=c,s&2&&B(t,"color",e[6])},d(c){c&&S(t),n=!1,l()}}}function Ue(e){let t,n,l;function o(...c){return e[3](e[6],...c)}return{c(){t=d("i"),i(t,"class","bi-check-circle-fill"),B(t,"color",e[6])},m(c,s){H(c,t,s),n||(l=x(t,"click",o),n=!0)},p(c,s){e=c,s&2&&B(t,"color",e[6])},d(c){c&&S(t),n=!1,l()}}}function he(e){let t;function n(c,s){return c[6]==c[0]?Ue:Je}let l=n(e),o=l(e);return{c(){o.c(),t=Me()},m(c,s){o.m(c,s),H(c,t,s)},p(c,s){l===(l=n(c))&&o?o.p(c,s):(o.d(1),o=l(c),o&&(o.c(),o.m(t.parentNode,t)))},d(c){o.d(c),c&&S(t)}}}function qe(e){let t,n,l,o=e[1],c=[];for(let s=0;s<o.length;s+=1)c[s]=he(pe(e,o,s));return{c(){t=d("p"),t.textContent="Color",n=C(),l=d("div");for(let s=0;s<c.length;s+=1)c[s].c();i(l,"class","d-flex justify-content-between p-2")},m(s,h){H(s,t,h),H(s,n,h),H(s,l,h);for(let u=0;u<c.length;u+=1)c[u].m(l,null)},p(s,[h]){if(h&7){o=s[1];let u;for(u=0;u<o.length;u+=1){const a=pe(s,o,u);c[u]?c[u].p(a,h):(c[u]=he(a),c[u].c(),c[u].m(l,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=o.length}},i:R,o:R,d(s){s&&S(t),s&&S(n),s&&S(l),Ee(c,s)}}}function Ke(e,t,n){let l=[],{selected:o=""}=t;const c=we();oe(async()=>{n(1,l=await Be())});function s(a){n(0,o=a),c("selected",{color:a})}const h=(a,_)=>{s(a)},u=(a,_)=>{s(a)};return e.$$set=a=>{"selected"in a&&n(0,o=a.selected)},[o,l,s,h,u]}class Ge extends Z{constructor(t){super(),Y(this,t,Ke,qe,V,{selected:0})}}function Qe(e){let t,n,l,o,c,s=e[0].name==""?"New account":"Edit account",h,u,a,_,f,v,y,g,T,w,j,A,M,m,b,p,k,$,L,O,E,P,ie;return b=new Ge({props:{selected:e[0].color}}),b.$on("selected",e[4]),{c(){t=d("div"),n=d("div"),l=d("div"),o=d("div"),c=d("h5"),h=U(s),u=C(),a=d("button"),_=C(),f=d("div"),v=d("form"),y=d("div"),g=d("label"),g.textContent="Name",T=C(),w=d("input"),j=C(),A=d("div"),A.textContent="Enter a name",M=C(),m=d("div"),se(b.$$.fragment),p=C(),k=d("div"),$=d("button"),$.textContent="Close",L=C(),O=d("button"),O.textContent="Save",i(c,"class","modal-title"),i(a,"type","button"),i(a,"class","btn-close"),i(a,"data-bs-dismiss","modal"),i(a,"aria-label","Close"),i(o,"class","modal-header"),i(g,"for","name"),i(g,"class","form-label"),i(w,"type","text"),i(w,"class","form-control"),i(w,"id","name"),fe(w,"is-invalid",e[1]),i(A,"class","invalid-feedback"),i(y,"class","mb-3"),i(m,"class","mb-3"),i(f,"class","modal-body"),i($,"type","button"),i($,"class","btn btn-secondary"),i($,"data-bs-dismiss","modal"),i(O,"type","button"),i(O,"class","btn btn-primary"),i(k,"class","modal-footer"),i(l,"class","modal-content"),i(n,"class","modal-dialog"),i(t,"id","editaccountmodal"),i(t,"class","modal"),i(t,"tabindex","-1"),i(t,"data-bs-backdrop","static")},m(N,I){H(N,t,I),r(t,n),r(n,l),r(l,o),r(o,c),r(c,h),r(o,u),r(o,a),r(l,_),r(l,f),r(f,v),r(v,y),r(y,g),r(y,T),r(y,w),ue(w,e[0].name),r(y,j),r(y,A),r(v,M),r(v,m),W(b,m,null),r(l,p),r(l,k),r(k,$),r(k,L),r(k,O),E=!0,P||(ie=[x(w,"input",e[3]),x(O,"click",e[5])],P=!0)},p(N,[I]){(!E||I&1)&&s!==(s=N[0].name==""?"New account":"Edit account")&&le(h,s),I&1&&w.value!==N[0].name&&ue(w,N[0].name),I&2&&fe(w,"is-invalid",N[1]);const ae={};I&1&&(ae.selected=N[0].color),b.$set(ae)},i(N){E||(q(b.$$.fragment,N),E=!0)},o(N){ce(b.$$.fragment,N),E=!1},d(N){N&&S(t),X(b),P=!1,J(ie)}}}function Re(e,t,n){let{editingAccount:l={name:""}}=t,o=!1;const c=we();async function s(){if(n(1,o=!1),l.name==""){n(1,o=!0);return}l.id==null?await ze(l.name,l.color):await Fe(l.id,l.name,l.color),h()}function h(){c("success");const f=document.getElementById("editaccountmodal");bootstrap.Modal.getOrCreateInstance(f).hide()}function u(){l.name=this.value,n(0,l)}const a=f=>n(0,l.color=f.detail.color,l),_=f=>{s()};return e.$$set=f=>{"editingAccount"in f&&n(0,l=f.editingAccount)},[l,o,s,u,a,_]}class Ve extends Z{constructor(t){super(),Y(this,t,Re,Qe,V,{editingAccount:0})}}function _e(e,t,n){const l=e.slice();return l[8]=t[n],l}function ge(e,t){let n,l,o=t[8].name+"",c,s,h,u;function a(..._){return t[6](t[8],..._)}return{key:e,first:null,c(){n=d("li"),l=d("i"),c=U(o),s=C(),i(l,"class","bi-circle-fill me-3"),B(l,"color",t[8].color),i(n,"class","list-group-item list-group-item-action"),this.first=n},m(_,f){H(_,n,f),r(n,l),r(n,c),r(n,s),h||(u=x(n,"click",a),h=!0)},p(_,f){t=_,f&1&&B(l,"color",t[8].color),f&1&&o!==(o=t[8].name+"")&&le(c,o)},d(_){_&&S(n),h=!1,u()}}}function We(e){let t,n,l,o,c,s,h,u,a,_,f=[],v=new Map,y,g,T,w,j,A=e[0];const M=m=>m[8].id;for(let m=0;m<A.length;m+=1){let b=_e(e,A,m),p=M(b);v.set(p,f[m]=ge(p,b))}return g=new Ve({props:{editingAccount:e[1]}}),g.$on("success",e[7]),{c(){t=d("main"),n=d("div"),l=d("div"),o=d("h1"),o.textContent="Accounts",c=C(),s=d("span"),h=C(),u=d("button"),u.textContent="New account",a=C(),_=d("ul");for(let m=0;m<f.length;m+=1)f[m].c();y=C(),se(g.$$.fragment),i(s,"class","ms-auto"),i(u,"class","btn btn-primary"),i(l,"class","hstack mb-3"),i(_,"class","list-group"),i(n,"class","container")},m(m,b){H(m,t,b),r(t,n),r(n,l),r(l,o),r(l,c),r(l,s),r(l,h),r(l,u),r(n,a),r(n,_);for(let p=0;p<f.length;p+=1)f[p].m(_,null);H(m,y,b),W(g,m,b),T=!0,w||(j=x(u,"click",e[5]),w=!0)},p(m,[b]){b&17&&(A=m[0],f=Pe(f,b,M,1,m,A,v,_,He,ge,null,_e));const p={};b&2&&(p.editingAccount=m[1]),g.$set(p)},i(m){T||(q(g.$$.fragment,m),T=!0)},o(m){ce(g.$$.fragment,m),T=!1},d(m){m&&S(t);for(let b=0;b<f.length;b+=1)f[b].d();m&&S(y),X(g,m),w=!1,j()}}}function be(){const e=document.getElementById("editaccountmodal");bootstrap.Modal.getOrCreateInstance(e).show()}function Xe(e,t,n){let l=[],o={name:"",color:"#000000"};async function c(){n(0,l=await De())}oe(async()=>{await c()});function s(){n(1,o={name:"",color:"#000000"}),be()}function h(f){n(1,o=f),be()}return[l,o,c,s,h,f=>{s()},(f,v)=>{h(f)},async()=>{await c()}]}class Ye extends Z{constructor(t){super(),Y(this,t,Xe,We,V,{})}}function Ze(e){let t,n,l,o,c,s,h,u,a,_,f,v,y,g,T,w,j,A,M,m=e[0].name+"",b,p,k,$,L,O;return L=new Ye({}),{c(){t=d("header"),n=d("nav"),l=d("div"),o=d("a"),o.innerHTML='<i style="font-size: 1em;" class="bi bi-bank me-3 pb-3"></i>Black Beans',c=C(),s=d("button"),s.innerHTML='<span class="navbar-toggler-icon"></span>',h=C(),u=d("div"),a=d("ul"),_=d("li"),_.innerHTML='<a class="nav-link" href="/">Home</a>',f=C(),v=d("li"),v.innerHTML='<a class="nav-link" href="/">Items</a>',y=C(),g=d("li"),g.innerHTML='<a class="nav-link active" href="/">Accounts</a>',T=C(),w=d("li"),w.innerHTML='<a class="nav-link" href="/">Categories</a>',j=C(),A=d("li"),M=d("a"),b=U(m),p=C(),k=d("ul"),k.innerHTML='<li><a class="dropdown-item" href="/logout">Logout</a></li>',$=C(),se(L.$$.fragment),i(o,"class","navbar-brand text-white"),i(o,"href","/"),i(s,"class","navbar-toggler"),i(s,"type","button"),i(s,"data-bs-toggle","collapse"),i(s,"data-bs-target","#navbarSupportedContent"),i(s,"aria-controls","navbarSupportedContent"),i(s,"aria-expanded","false"),i(s,"aria-label","Toggle navigation"),i(_,"class","nav-item"),i(v,"class","nav-item"),i(g,"class","nav-item"),i(w,"class","nav-item"),i(M,"class","nav-link dropdown-toggle"),i(M,"id","navbarDropdown"),i(M,"role","button"),i(M,"data-bs-toggle","dropdown"),i(M,"aria-expanded","false"),i(k,"class","dropdown-menu"),i(k,"aria-labelledby","navbarDropdown"),i(A,"class","nav-item dropdown"),i(a,"class","navbar-nav"),i(u,"class","collapse navbar-collapse"),i(u,"id","navbarSupportedContent"),i(l,"class","container"),i(n,"class","navbar navbar-expand-lg navbar-dark bg-dark mb-3")},m(E,P){H(E,t,P),r(t,n),r(n,l),r(l,o),r(l,c),r(l,s),r(l,h),r(l,u),r(u,a),r(a,_),r(a,f),r(a,v),r(a,y),r(a,g),r(a,T),r(a,w),r(a,j),r(a,A),r(A,M),r(M,b),r(A,p),r(A,k),H(E,$,P),W(L,E,P),O=!0},p(E,[P]){(!O||P&1)&&m!==(m=E[0].name+"")&&le(b,m)},i(E){O||(q(L.$$.fragment,E),O=!0)},o(E){ce(L.$$.fragment,E),O=!1},d(E){E&&S(t),E&&S($),X(L,E)}}}function et(e,t,n){let l={};return oe(async()=>{n(0,l=xe())}),[l]}class tt extends Z{constructor(t){super(),Y(this,t,et,Ze,V,{})}}new tt({target:document.getElementById("app")});
