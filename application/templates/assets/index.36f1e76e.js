const Be=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function n(o){if(o.ep)return;o.ep=!0;const c=l(o);fetch(o.href,c)}};Be();function M(){}function Te(t){return t()}function $e(){return Object.create(null)}function ee(t){t.forEach(Te)}function He(t){return typeof t=="function"}function K(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function De(t){return Object.keys(t).length===0}function s(t,e){t.appendChild(e)}function S(t,e,l){t.insertBefore(e,l||null)}function A(t){t.parentNode.removeChild(t)}function Ue(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function d(t){return document.createElement(t)}function J(t){return document.createTextNode(t)}function C(){return J(" ")}function je(){return J("")}function H(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function r(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function qe(t){return Array.from(t.childNodes)}function ge(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function we(t,e){t.value=e==null?"":e}function le(t,e,l,n){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function Ce(t,e,l){t.classList[l?"add":"remove"](e)}function Fe(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,l,n,e),o}let se;function re(t){se=t}function Oe(){if(!se)throw new Error("Function called outside component initialization");return se}function be(t){Oe().$$.on_mount.push(t)}function Ie(){const t=Oe();return(e,l,{cancelable:n=!1}={})=>{const o=t.$$.callbacks[e];if(o){const c=Fe(e,l,{cancelable:n});return o.slice().forEach(i=>{i.call(t,c)}),!c.defaultPrevented}return!0}}const ie=[],Ee=[],ue=[],Ae=[],Je=Promise.resolve();let _e=!1;function ze(){_e||(_e=!0,Je.then(Pe))}function he(t){ue.push(t)}const pe=new Set;let ae=0;function Pe(){const t=se;do{for(;ae<ie.length;){const e=ie[ae];ae++,re(e),Ke(e.$$)}for(re(null),ie.length=0,ae=0;Ee.length;)Ee.pop()();for(let e=0;e<ue.length;e+=1){const l=ue[e];pe.has(l)||(pe.add(l),l())}ue.length=0}while(ie.length);for(;Ae.length;)Ae.pop()();_e=!1,pe.clear(),re(t)}function Ke(t){if(t.fragment!==null){t.update(),ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(he)}}const fe=new Set;let Z;function Re(){Z={r:0,c:[],p:Z}}function Ge(){Z.r||ee(Z.c),Z=Z.p}function D(t,e){t&&t.i&&(fe.delete(t),t.i(e))}function F(t,e,l,n){if(t&&t.o){if(fe.has(t))return;fe.add(t),Z.c.push(()=>{fe.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}}function Qe(t,e){t.d(1),e.delete(t.key)}function Ve(t,e,l,n,o,c,i,h,u,a,g,f){let b=t.length,v=c.length,_=b;const T={};for(;_--;)T[t[_].key]=_;const $=[],N=new Map,L=new Map;for(_=v;_--;){const p=f(o,c,_),y=l(p);let w=i.get(y);w?n&&w.p(p,e):(w=a(y,p),w.c()),N.set(y,$[_]=w),y in T&&L.set(y,Math.abs(_-T[y]))}const O=new Set,m=new Set;function k(p){D(p,1),p.m(h,g),i.set(p.key,p),g=p.first,v--}for(;b&&v;){const p=$[v-1],y=t[b-1],w=p.key,B=y.key;p===y?(g=p.first,b--,v--):N.has(B)?!i.has(w)||O.has(w)?k(p):m.has(B)?b--:L.get(w)>L.get(B)?(m.add(w),k(p)):(O.add(B),b--):(u(y,i),b--)}for(;b--;){const p=t[b];N.has(p.key)||u(p,i)}for(;v;)k($[v-1]);return $}function te(t){t&&t.c()}function R(t,e,l,n){const{fragment:o,on_mount:c,on_destroy:i,after_update:h}=t.$$;o&&o.m(e,l),n||he(()=>{const u=c.map(Te).filter(He);i?i.push(...u):ee(u),t.$$.on_mount=[]}),h.forEach(he)}function G(t,e){const l=t.$$;l.fragment!==null&&(ee(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function We(t,e){t.$$.dirty[0]===-1&&(ie.push(t),ze(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(t,e,l,n,o,c,i,h=[-1]){const u=se;re(t);const a=t.$$={fragment:null,ctx:null,props:c,update:M,not_equal:o,bound:$e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:$e(),dirty:h,skip_bound:!1,root:e.target||u.$$.root};i&&i(a.root);let g=!1;if(a.ctx=l?l(t,e.props||{},(f,b,...v)=>{const _=v.length?v[0]:b;return a.ctx&&o(a.ctx[f],a.ctx[f]=_)&&(!a.skip_bound&&a.bound[f]&&a.bound[f](_),g&&We(t,f)),b}):[],a.update(),g=!0,ee(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const f=qe(e.target);a.fragment&&a.fragment.l(f),f.forEach(A)}else a.fragment&&a.fragment.c();e.intro&&D(t.$$.fragment),R(t,e.target,e.anchor,e.customElement),Pe()}re(u)}class V{$destroy(){G(this,1),this.$destroy=M}$on(e,l){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const o=n.indexOf(l);o!==-1&&n.splice(o,1)}}$set(e){this.$$set&&!De(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}async function Xe(){return await(await fetch("/api/user")).json()}async function Ye(){return(await(await fetch("/api/available-colors")).json()).colors}async function Ze(){return await(await fetch("/api/accounts")).json()}async function et(t,e){const l=JSON.stringify({name:t,color:e,lastSavedTime:0,createdTime:0,isActive:!1}),n=new Headers({"Content-Type":"application/json"});return await(await fetch("/api/accounts",{method:"POST",body:l,headers:n})).json()}async function tt(t,e,l){const n=JSON.stringify({name:e,color:l,lastSavedTime:0,createdTime:0,isActive:!0}),o=new Headers({"Content-Type":"application/json"}),c={method:"PUT",body:n,headers:o};return await(await fetch("/api/account/"+t,c)).json()}function nt(t){let e;return{c(){e=J("Home")},m(l,n){S(l,e,n)},p:M,i:M,o:M,d(l){l&&A(e)}}}class lt extends V{constructor(e){super(),Q(this,e,null,nt,K,{})}}function ot(t){let e;return{c(){e=J("Items")},m(l,n){S(l,e,n)},p:M,i:M,o:M,d(l){l&&A(e)}}}class ct extends V{constructor(e){super(),Q(this,e,null,ot,K,{})}}function Se(t,e,l){const n=t.slice();return n[6]=e[l],n}function it(t){let e,l,n;function o(...c){return t[4](t[6],...c)}return{c(){e=d("i"),r(e,"class","bi-circle-fill"),le(e,"color",t[6])},m(c,i){S(c,e,i),l||(n=H(e,"click",o),l=!0)},p(c,i){t=c,i&2&&le(e,"color",t[6])},d(c){c&&A(e),l=!1,n()}}}function rt(t){let e,l,n;function o(...c){return t[3](t[6],...c)}return{c(){e=d("i"),r(e,"class","bi-check-circle-fill"),le(e,"color",t[6])},m(c,i){S(c,e,i),l||(n=H(e,"click",o),l=!0)},p(c,i){t=c,i&2&&le(e,"color",t[6])},d(c){c&&A(e),l=!1,n()}}}function Ne(t){let e;function l(c,i){return c[6]==c[0]?rt:it}let n=l(t),o=n(t);return{c(){o.c(),e=je()},m(c,i){o.m(c,i),S(c,e,i)},p(c,i){n===(n=l(c))&&o?o.p(c,i):(o.d(1),o=n(c),o&&(o.c(),o.m(e.parentNode,e)))},d(c){o.d(c),c&&A(e)}}}function st(t){let e,l,n,o=t[1],c=[];for(let i=0;i<o.length;i+=1)c[i]=Ne(Se(t,o,i));return{c(){e=d("p"),e.textContent="Color",l=C(),n=d("div");for(let i=0;i<c.length;i+=1)c[i].c();r(n,"class","d-flex justify-content-between p-2")},m(i,h){S(i,e,h),S(i,l,h),S(i,n,h);for(let u=0;u<c.length;u+=1)c[u].m(n,null)},p(i,[h]){if(h&7){o=i[1];let u;for(u=0;u<o.length;u+=1){const a=Se(i,o,u);c[u]?c[u].p(a,h):(c[u]=Ne(a),c[u].c(),c[u].m(n,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=o.length}},i:M,o:M,d(i){i&&A(e),i&&A(l),i&&A(n),Ue(c,i)}}}function at(t,e,l){let n=[],{selected:o=""}=e;const c=Ie();be(async()=>{l(1,n=await Ye())});function i(a){l(0,o=a),c("selected",{color:a})}const h=(a,g)=>{i(a)},u=(a,g)=>{i(a)};return t.$$set=a=>{"selected"in a&&l(0,o=a.selected)},[o,n,i,h,u]}class ut extends V{constructor(e){super(),Q(this,e,at,st,K,{selected:0})}}function ft(t){let e,l,n,o,c,i=t[0].name==""?"New account":"Edit account",h,u,a,g,f,b,v,_,T,$,N,L,O,m,k,p,y,w,B,q,I,W,z;return k=new ut({props:{selected:t[0].color}}),k.$on("selected",t[4]),{c(){e=d("div"),l=d("div"),n=d("div"),o=d("div"),c=d("h5"),h=J(i),u=C(),a=d("button"),g=C(),f=d("div"),b=d("form"),v=d("div"),_=d("label"),_.textContent="Name",T=C(),$=d("input"),N=C(),L=d("div"),L.textContent="Enter a name",O=C(),m=d("div"),te(k.$$.fragment),p=C(),y=d("div"),w=d("button"),w.textContent="Close",B=C(),q=d("button"),q.textContent="Save",r(c,"class","modal-title"),r(a,"type","button"),r(a,"class","btn-close"),r(a,"data-bs-dismiss","modal"),r(a,"aria-label","Close"),r(o,"class","modal-header"),r(_,"for","name"),r(_,"class","form-label"),r($,"type","text"),r($,"class","form-control"),r($,"id","name"),Ce($,"is-invalid",t[1]),r(L,"class","invalid-feedback"),r(v,"class","mb-3"),r(m,"class","mb-3"),r(f,"class","modal-body"),r(w,"type","button"),r(w,"class","btn btn-secondary"),r(w,"data-bs-dismiss","modal"),r(q,"type","button"),r(q,"class","btn btn-primary"),r(y,"class","modal-footer"),r(n,"class","modal-content"),r(l,"class","modal-dialog"),r(e,"id","editaccountmodal"),r(e,"class","modal"),r(e,"tabindex","-1"),r(e,"data-bs-backdrop","static")},m(x,U){S(x,e,U),s(e,l),s(l,n),s(n,o),s(o,c),s(c,h),s(o,u),s(o,a),s(n,g),s(n,f),s(f,b),s(b,v),s(v,_),s(v,T),s(v,$),we($,t[0].name),s(v,N),s(v,L),s(b,O),s(b,m),R(k,m,null),s(n,p),s(n,y),s(y,w),s(y,B),s(y,q),I=!0,W||(z=[H($,"input",t[3]),H(q,"click",t[5])],W=!0)},p(x,[U]){(!I||U&1)&&i!==(i=x[0].name==""?"New account":"Edit account")&&ge(h,i),U&1&&$.value!==x[0].name&&we($,x[0].name),U&2&&Ce($,"is-invalid",x[1]);const ne={};U&1&&(ne.selected=x[0].color),k.$set(ne)},i(x){I||(D(k.$$.fragment,x),I=!0)},o(x){F(k.$$.fragment,x),I=!1},d(x){x&&A(e),G(k),W=!1,ee(z)}}}function dt(t,e,l){let{editingAccount:n={name:""}}=e,o=!1;const c=Ie();async function i(){if(l(1,o=!1),n.name==""){l(1,o=!0);return}n.id==null?await et(n.name,n.color):await tt(n.id,n.name,n.color),h()}function h(){c("success");const f=document.getElementById("editaccountmodal");bootstrap.Modal.getOrCreateInstance(f).hide()}function u(){n.name=this.value,l(0,n)}const a=f=>l(0,n.color=f.detail.color,n),g=f=>{i()};return t.$$set=f=>{"editingAccount"in f&&l(0,n=f.editingAccount)},[n,o,i,u,a,g]}class mt extends V{constructor(e){super(),Q(this,e,dt,ft,K,{editingAccount:0})}}function Le(t,e,l){const n=t.slice();return n[8]=e[l],n}function xe(t,e){let l,n,o=e[8].name+"",c,i,h,u;function a(...g){return e[6](e[8],...g)}return{key:t,first:null,c(){l=d("li"),n=d("i"),c=J(o),i=C(),r(n,"class","bi-circle-fill me-3"),le(n,"color",e[8].color),r(l,"class","list-group-item list-group-item-action"),this.first=l},m(g,f){S(g,l,f),s(l,n),s(l,c),s(l,i),h||(u=H(l,"click",a),h=!0)},p(g,f){e=g,f&1&&le(n,"color",e[8].color),f&1&&o!==(o=e[8].name+"")&&ge(c,o)},d(g){g&&A(l),h=!1,u()}}}function pt(t){let e,l,n,o,c,i,h,u,a,g,f=[],b=new Map,v,_,T,$,N,L=t[0];const O=m=>m[8].id;for(let m=0;m<L.length;m+=1){let k=Le(t,L,m),p=O(k);b.set(p,f[m]=xe(p,k))}return _=new mt({props:{editingAccount:t[1]}}),_.$on("success",t[7]),{c(){e=d("main"),l=d("div"),n=d("div"),o=d("h1"),o.textContent="Accounts",c=C(),i=d("span"),h=C(),u=d("button"),u.textContent="New account",a=C(),g=d("ul");for(let m=0;m<f.length;m+=1)f[m].c();v=C(),te(_.$$.fragment),r(i,"class","ms-auto"),r(u,"class","btn btn-primary"),r(n,"class","hstack mb-3"),r(g,"class","list-group"),r(l,"class","container")},m(m,k){S(m,e,k),s(e,l),s(l,n),s(n,o),s(n,c),s(n,i),s(n,h),s(n,u),s(l,a),s(l,g);for(let p=0;p<f.length;p+=1)f[p].m(g,null);S(m,v,k),R(_,m,k),T=!0,$||(N=H(u,"click",t[5]),$=!0)},p(m,[k]){k&17&&(L=m[0],f=Ve(f,k,O,1,m,L,b,g,Qe,xe,null,Le));const p={};k&2&&(p.editingAccount=m[1]),_.$set(p)},i(m){T||(D(_.$$.fragment,m),T=!0)},o(m){F(_.$$.fragment,m),T=!1},d(m){m&&A(e);for(let k=0;k<f.length;k+=1)f[k].d();m&&A(v),G(_,m),$=!1,N()}}}function Me(){const t=document.getElementById("editaccountmodal");bootstrap.Modal.getOrCreateInstance(t).show()}function _t(t,e,l){let n=[],o={name:"",color:"#000000"};async function c(){l(0,n=await Ze())}be(async()=>{await c()});function i(){l(1,o={name:"",color:"#000000"}),Me()}function h(f){l(1,o=f),Me()}return[n,o,c,i,h,f=>{i()},(f,b)=>{h(f)},async()=>{await c()}]}class ht extends V{constructor(e){super(),Q(this,e,_t,pt,K,{})}}function gt(t){let e;return{c(){e=J("Categories")},m(l,n){S(l,e,n)},p:M,i:M,o:M,d(l){l&&A(e)}}}class bt extends V{constructor(e){super(),Q(this,e,null,gt,K,{})}}function kt(t){let e;return{c(){e=J("Profile")},m(l,n){S(l,e,n)},p:M,i:M,o:M,d(l){l&&A(e)}}}class vt extends V{constructor(e){super(),Q(this,e,null,kt,K,{})}}function yt(t){let e,l;return e=new lt({}),{c(){te(e.$$.fragment)},m(n,o){R(e,n,o),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){F(e.$$.fragment,n),l=!1},d(n){G(e,n)}}}function $t(t){let e,l;return e=new vt({}),{c(){te(e.$$.fragment)},m(n,o){R(e,n,o),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){F(e.$$.fragment,n),l=!1},d(n){G(e,n)}}}function wt(t){let e,l;return e=new bt({}),{c(){te(e.$$.fragment)},m(n,o){R(e,n,o),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){F(e.$$.fragment,n),l=!1},d(n){G(e,n)}}}function Ct(t){let e,l;return e=new ct({}),{c(){te(e.$$.fragment)},m(n,o){R(e,n,o),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){F(e.$$.fragment,n),l=!1},d(n){G(e,n)}}}function Et(t){let e,l;return e=new ht({}),{c(){te(e.$$.fragment)},m(n,o){R(e,n,o),l=!0},i(n){l||(D(e.$$.fragment,n),l=!0)},o(n){F(e.$$.fragment,n),l=!1},d(n){G(e,n)}}}function At(t){let e,l,n,o,c,i,h,u,a,g,f,b,v,_,T,$,N,L,O,m,k,p,y,w=t[0].name+"",B,q,I,W,z,x,U,ne,j,P,oe,ce,de,ke;const ve=[Et,Ct,wt,$t,yt],X=[];function ye(E,Y){return E[1]=="accounts"?0:E[1]=="items"?1:E[1]=="categories"?2:E[1]=="profile"?3:E[1]=="home"?4:-1}return~(j=ye(t))&&(P=X[j]=ve[j](t)),{c(){e=d("header"),l=d("nav"),n=d("div"),o=d("h5"),o.textContent="Black Beans",c=C(),i=d("button"),i.innerHTML='<span class="navbar-toggler-icon"></span>',h=C(),u=d("div"),a=d("ul"),g=d("li"),f=d("button"),f.textContent="Home",b=C(),v=d("li"),_=d("button"),_.textContent="Items",T=C(),$=d("li"),N=d("button"),N.textContent="Accounts",L=C(),O=d("li"),m=d("button"),m.textContent="Categories",k=C(),p=d("li"),y=d("a"),B=J(w),q=C(),I=d("ul"),W=d("li"),z=d("button"),z.textContent="Profile",x=C(),U=d("li"),U.innerHTML='<a class="dropdown-item" href="/logout">Logout</a>',ne=C(),P&&P.c(),oe=je(),r(o,"class","text-white mt-2 me-4"),r(i,"class","navbar-toggler"),r(i,"type","button"),r(i,"data-bs-toggle","collapse"),r(i,"data-bs-target","#navbarSupportedContent"),r(i,"aria-controls","navbarSupportedContent"),r(i,"aria-expanded","false"),r(i,"aria-label","Toggle navigation"),r(f,"id","home-link"),r(f,"class","btn btn-link nav-link"),r(g,"class","nav-item"),r(_,"id","items-link"),r(_,"class","btn btn-link nav-link"),r(v,"class","nav-item"),r(N,"id","accounts-link"),r(N,"class","btn btn-link nav-link"),r($,"class","nav-item"),r(m,"id","categories-link"),r(m,"class","btn btn-link nav-link"),r(O,"class","nav-item"),r(y,"class","nav-link dropdown-toggle"),r(y,"id","navbarDropdown"),r(y,"role","button"),r(y,"data-bs-toggle","dropdown"),r(y,"aria-expanded","false"),r(z,"class","btn btn-link dropdown-item"),r(I,"class","dropdown-menu"),r(I,"aria-labelledby","navbarDropdown"),r(p,"class","nav-item dropdown"),r(a,"class","navbar-nav"),r(u,"class","collapse navbar-collapse"),r(u,"id","navbarSupportedContent"),r(n,"class","container"),r(l,"class","navbar navbar-expand-lg navbar-dark bg-dark mb-3")},m(E,Y){S(E,e,Y),s(e,l),s(l,n),s(n,o),s(n,c),s(n,i),s(n,h),s(n,u),s(u,a),s(a,g),s(g,f),s(a,b),s(a,v),s(v,_),s(a,T),s(a,$),s($,N),s(a,L),s(a,O),s(O,m),s(a,k),s(a,p),s(p,y),s(y,B),s(p,q),s(p,I),s(I,W),s(W,z),s(I,x),s(I,U),S(E,ne,Y),~j&&X[j].m(E,Y),S(E,oe,Y),ce=!0,de||(ke=[H(f,"click",t[3]),H(_,"click",t[4]),H(N,"click",t[5]),H(m,"click",t[6]),H(z,"click",t[7])],de=!0)},p(E,[Y]){(!ce||Y&1)&&w!==(w=E[0].name+"")&&ge(B,w);let me=j;j=ye(E),j!==me&&(P&&(Re(),F(X[me],1,1,()=>{X[me]=null}),Ge()),~j?(P=X[j],P||(P=X[j]=ve[j](E),P.c()),D(P,1),P.m(oe.parentNode,oe)):P=null)},i(E){ce||(D(P),ce=!0)},o(E){F(P),ce=!1},d(E){E&&A(e),E&&A(ne),~j&&X[j].d(E),E&&A(oe),de=!1,ee(ke)}}}function St(t,e,l){let n={};be(async()=>{l(0,n=await Xe())});let c=document.baseURI.split("/").pop();function i(b){l(1,c=b),console.log(b),history.replaceState(b,"",b),document.querySelectorAll(".nav-link, .active").forEach(_=>{_.classList.remove("active")}),document.getElementById(b+"-link").classList.add("active")}return[n,c,i,()=>{i("home")},()=>{i("items")},()=>{i("accounts")},()=>{i("categories")},()=>{i("profile")}]}class Nt extends V{constructor(e){super(),Q(this,e,St,At,K,{})}}new Nt({target:document.getElementById("app")});
